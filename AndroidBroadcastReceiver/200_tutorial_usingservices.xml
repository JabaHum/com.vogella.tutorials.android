<section id="tutorial_services">
	<title>Exercise: System services and receiver

	<section id="tutorial_services1">
		<title>Target|
		
			In this chapter we will schedule a receiver
			via the Android alert
			manager
			system service. Once called, it uses the Android vibrator
			manager
			and a
			popup message (Toast) to
			notify the user.
		
	

	<section id="tutorial_services2">
		<title>Implement project
		
			Create a new project called
			_de.vogella.android.alarm_
			with the
			activity called
			_AlarmActivity_
			.
		

		
			Create the following layout.
		

		
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/service/main.xml" />
			</programlisting>
		
		
			Create the following broadcast receiver class. This class will
			get the vibrator service.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/service/MyBroadcastReceiver.java" />
			</programlisting>
		
		
			Register this class as a broadcast receiver in
			_AndroidManifest.xml_
			and request authorization to vibrate the phone.
		

		
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/service/AndroidManifest.xml" />
			</programlisting>
		
		
			Change the code of your
			`AlarmActivity`
			class to the
			following. This activity creates an
			intent to start the
			receiver and register this intent with the alarm manager service.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/service/AlarmActivity.java" />
			</programlisting>
		
	

	<section id="tutorial_services3">
		<title>Validate implementation
		
			Run your application on the device. Set your time and start the
			alarm. After the defined number of seconds a _Toast_ should be
			displayed. Keep in mind that the vibration alarm does not work on the
			Android emulator.
		

		
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/receive10.png" scale="60" />
				</imageobject>
				<textobject>
					<phrase>Alarm application running</phrase>
				</textobject>
			</mediaobject>
		
	

