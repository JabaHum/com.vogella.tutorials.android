<section id="example">
	<title>Android Wallpaper Example
	
		Create a new project called
		_de.vogella.android.wallpaper_
		. Do not
		create an
		_activity_
		.
	
	
		Create the
		<filename>/res/xml</filename>
		folder and create the
		<filename>mywallpaper.xml</filename>
		file.
	

	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/mywallpaper.xml" />
		</programlisting>
	
	
		This file
		contains a description of your
		wallpaper
		and
		a preview
		graphic.
		You can
		also enter a link to an
		_activity_
		which
		allow to
		configure the
		wallpaper. This resource file
		will be linked
		to
		from the
		<filename>AndroidManifest.xml</filename>
		. You could also
		include the "android:thumbnail attribute" which would
		point to a
		drawable which gives a smaller image of the running
		wallpaper.
	


	
		Change your
		<filename>AndroidManifest.xml</filename>
		to the following to define
		your
		`MyWallpaperService`
		service. Also define the uses-feature.
	

	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/AndroidManifest.xml" />
		</programlisting>
	
	
		We create the
		`MyPoint`
		class to save the elements we have drawn.
	

	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/MyPoint.java" />
		</programlisting>
	
	
		Create a new
		_activity_
		. Create the
		<filename>prefs.xml</filename>
		preference
		file
		in the
		<filename>res/xml</filename>
		folder.
	
	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/prefs.xml" />
		</programlisting>
	

	
		Create a new
		_activity_
		called
		_MyPreferencesActivity_
		and the following class.
	
	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/MyPreferencesActivity.java" />
		</programlisting>
	
	
		Create the following coding for the Wallpaper
		_service_
		.
	
	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/MyWallpaperService.java" />
		</programlisting>
	

	
		<programlisting>
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/MyWallpaperService1.txt" />
		</programlisting>
	
	
		Create the following Activity which should use a layout with one
		`Button`
		included. This Button should use the
		<property>onClick</property>
		property to point to the
		`onClick`
		method.
	

	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="../examples/SetWallpaperActivity.java" />
		</programlisting>
	


	If you start your application your application should allow to
		set the wallpaper.
		Your background should look similar to the following
		screenshot. If you have
		Touch enabled
		via the preferences you can click
		on the screen to
		remove the existing
		circles, also via the settings you
		can define the
		number of circles
		which should be displayed.
	
	
		<mediaobject>
			<imageobject>
				<imagedata fileref="images/wallpaper10.png" />
			</imageobject>
			<textobject>
				<phrase>Live Wallpaper displayed</phrase>
			</textobject>
		</mediaobject>
	


