<section id="exercise_bindlocalservice">
	<title>Exercise: Define and consume local service
	
		This exercise demonstrates how to bind to a local
		service
		from an
		activity.
	
	
		The service
		is started after the Android device boots and
		simulates
		that it periodically
		fetches
		data. The
		activity
		binds itself to
		the service to access its data.
	
	
		Create a new project called
		_de.vogella.android.ownservice.local_
		with
		the
		activity
		called
		_MainActivity_.
	
	
		Create the following
		`LocalWordService`
		class.
	
	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/LocalWordService.java" />
		</programlisting>
	
	
		Create the following two classes, which will be registered as
		`BroadcastReceivers`.
	
	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/MyScheduleReceiver.java" />
		</programlisting>
	
	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/MyStartServiceReceiver.java" />
		</programlisting>
	
	
		Register all components in your
		<filename>AndroidManifest.xml</filename>
		file.
	
	
		<programlisting language="xml">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/AndroidManifest.xml" />
		</programlisting>
	
	
		Change the
		layout file of the
		activity
		similar to the following example.
	
	
		<programlisting language="xml">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/main.xml" />
		</programlisting>
	
	
		Change your
		activity
		class
		to the following code.
	
	
		<programlisting language="java">
			<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
				parse="text" href="./examples/ownservice/MainActivity.java" />
		</programlisting>
	
	
		Run your application. If you press the button, the data is fetched
		again from the service and the
		`ListView`
		is updated.
	
