<section id="tutorialusecp" role="wrapper">
	<title>Tutorial: Using ContentProvider
	<section id="tutorialusecp_overview">
		<title>Overview
		
			The following example will use an existing
			`ContentProvider`
			from the
			_People_
			application.
		
	


	<section id="tutorialusecp_contacts">
		<title>Create contacts on your emulator

		
			For this example we need a few maintained contacts. Select the
			home
			menu and then the
			<guilabel>People</guilabel>
			entry to
			create contacts.
		

		
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/contact10.png" />
				</imageobject>
				<textobject>
					<phrase>Selecting the "Contacts" application from the application
						choicer</phrase>
				</textobject>
			</mediaobject>
		
		 The app will ask you if you want to login. Either login or
			select "Not now". Press ""Create a new contact". You can create local
			contacts.
		

		
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/contact20.png" />
				</imageobject>
				<textobject>
					<phrase>Create a new contact</phrase>
				</textobject>
			</mediaobject>
		

		
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/contact30.png" />
				</imageobject>
				<textobject>
					<phrase>Details for a maintained contact</phrase>
				</textobject>
			</mediaobject>
		
		Finish adding your first contact. Afterwards the app allows you
			to add more contacts via the + button. As a result you should have a
			few new contacts in your application.
		
	
	<section id="tutorialusecp_example">
		<title>Using the Contact Content Provider
		
			Create a new Android project called
			_de.vogella.android.contentprovider_
			with the
			_activity_
			called
			_ContactsActivity_
			.
		
		
			Change the corresponding
			layout file in the
			<filename class="directory">res/layout</filename>
			folder.
			Rename
			the ID of the existing
			`TextView`
			to
			<parameter>contactview</parameter>
			. Delete the default text.
		

		
			The resulting layout file
			should look like the following.
		
		
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/contentprovider/main.xml" />
			</programlisting>
		

		
			Access to the contact
			`ContentProvider`
			requires a certain
			permission,
			as not all applications should have
			access to the contact
			information.
			Open the
			<filename>AndroidManifest.xml</filename>
			file,
			and select the
			<guilabel>Permissions</guilabel>
			tab. On that
			tab click the
			_Add_
			button,
			and select the
			<guilabel>Uses Permission</guilabel>
			.
			From the drop-down list select
			the
			<parameter>android.permission.READ_CONTACTS</parameter>
			entry.
		
		 Change the coding of the activity.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="./examples/contentprovider/ContactsActivity.java" />
			</programlisting>
		

		
			If you run this application the data is read from the
			`ContentProvider`
			of the People application
			and displayed in a
			`TextView`
			. Typically you would display such data in a
			`ListView`
			.
		
	
