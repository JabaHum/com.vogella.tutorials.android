<section id="exercise_tracewiew">
	<title>Exercise: Traceview
	<section id="exercise_tracewiew1">
		<title>Create example project
		
			Create an Android application with the top level package called
			`com.vogella.android.traceview`
			.

		
		
			Add the following key to your
			_values/strings.xml_
			file.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/traceview/strings.xml" />
			</programlisting>
		
		
			Create the following layout file called
			_rowlayout.xml_
			.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/traceview/rowlayout.xml" />
			</programlisting>
		


		
			Implement the following
			`adapter`
			for your
			`ListView`
			.
		
		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/traceview/MyArrayAdapter.java" />
			</programlisting>
		



		
			Implement a
			`ListView`
			in the
			_activity_
			which shows 1000 random generated strings.
		

		
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/traceview/MainActivity.java" />
			</programlisting>
		


		Add the permission to write on external storage to your
			application.
		
	

	<section id="exercise_tracewiew2">
		<title>Perform trace
		Run your application. Afterwards connect to your device via adb
			and copy the resulting performance trace to your drive. Analyze the
			result.
		
	


	<section id="exercise_tracewiew3">
		<title>Solve performance problems
		
			Improve the performance based on the measurements of
			_Traceview_
			.
			Here are some pointers what to improve.
			<itemizedlist>
				<listitem>
					
						Replace the bold styling in the
						`getView()`
						method with the corresponding
						`android:textStyle="bold`
						attribute in your layout to avoid the
						`Html.fromHtml()`
						call.
					
				</listitem>
				<listitem>
					Move the sorting to another place
				</listitem>
				<listitem>
					Reuse convertView in your Adapter, if not null
				</listitem>
				<listitem>
					Avoid the findViewById() method call by using the
						HolderPattern in your ListView
					
				</listitem>
			</itemizedlist>
		
		<note>
			
				The layout is also not optimized. We reuse this exercise in the
				exercise for the
				_HierarchyView_
			
		</note>

	

