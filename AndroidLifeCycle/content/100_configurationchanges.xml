<section id="configurationchange">
	<title>Controlling configuration</title>
	<section id="configurationchange_avoid">
		<title>Avoiding configuration change restarts</title>
		<para>
			An
			activity
			is restarted if a
			<wordasword>configuration change</wordasword>
			occurs.
			A
			configuration change happens if an event is triggered from
			the
			actual the Android device which may be
			relevant for the
			application.
		</para>
		<para>
			An instance of the
			<code>Configuration</code>
			class defines the current configuration of the device. Typical
			configuration is the device orientation, the locale the smallest
			width, etc.
		</para>
		<para>
			For example
			if the user
			changes
			the
			orientation of the device
			(vertically
			or
			horizontally). Android
			assumes
			that an activity
			might want
			to use different resources for these orientations and
			restarts the
			activity.
		</para>
		<para>In case an activity is restarted the programmer must ensure that
			the activity is recreated in the same state as before the restart.
			The
			Android provides several potential means for doing this.
		</para>
		<para>
			In the emulator you can
			simulate the
			change of the
			orientation via the
			<shortcut>
				<keycombo>
					<keysym>Ctrl</keysym>
					<keysym>F11</keysym>
				</keycombo>
			</shortcut>
			shortcut.
		</para>
		<para>
			You can avoid a restart of your application for certain
			configuration
			changes via the
			<code>configChanges</code>
			attribute on your
			<wordasword>activity</wordasword>
			definition in
			your
			<code>AndroidManifest.xml</code>
			. The following setting avoids an
			<wordasword>activity</wordasword>
			restart incase of orientation
			changes or
			position of the
			physical
			keyboard (hidden / visible).
		</para>
		<para>
			<programlisting language="xml">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/lifecycle/configchange.txt" />
			</programlisting>
		</para>

		<tip>
			<para>Avoid using the configChanges attribute if possible. It is
				typically better to use other means to handle configuration changes,
				like the Android loader framework or headless retained fragments.
				These concept are covered later.
			</para>
		</tip>
	</section>


	<section id="configuration_orientation">
		<title>Fixing the orientation for an activity</title>
		<para>
			It is also possible to define that an activity should only be used in
			a specific screen orientation via the
			<filename>AndroidManifest.xml</filename>
			file. Such an example configuration is listed below.
		</para>
		<para>
			<programlisting language="java">
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
					parse="text" href="../examples/lifecycle/fixedlayout.txt" />
			</programlisting>
		</para>

	</section>

</section>