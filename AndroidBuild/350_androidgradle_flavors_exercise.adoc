[[building_gradle_variants_exercise]]
== Exercise: Creating Android applications with different product flavors
=== Target for this exercise
		
In this exercise you create an Android application with two different project flavors, called _free_ and _paid_.
	
		
The free version defines different resources than the paid version.
In this sample the strings.xml file of the main folder/project is overridden in case the free or paid flavor.
Which variant is build is defined via the _Build Variants_ view. 
So we can have different strings for the free and paid variant.
	
=== Creating a new Android application
		
Create a new Project with the _Blank Activity_ template and the top level package `com.vogella.android.gradlebuildflavors`.
	
		
Define two additional product flavors in the _app/build.gradle_ file called "free" and "paid".

[source,java]
....
include::res/gradle/productFlavours_complete.build[]
....	

[source,java]
....
include::res/gradle/productFlavours.build[]
....
		
Create the desired folder structure for free and paid flavors. See <<androidstudio_creatingresourcefolder>> and <<androidstudio_creatingresourcefile>> for further information. 
If you select _Android resource directory_ you can select the flavor in the following dialog as depicted in the next screenshot.
	
image::newresourcedirectory.png[Resource directory for the paid flavor]
		
Copy the _strings.xml_ from the _main_ folder to the appropriate free and paid folder.
	
		
Change the `hello_world` string of the _strings.xml_ to _Free World!_ and _Paid World!_ accordingly.
	
[source,xml]
....
include::res/gradle/free_strings.xml[]
....

[source,java]
....
include::res/gradle/paid_strings.xml[]
....
	
image::flavour_folder_structure.png[]
	

=== Validate
		
Select `freeDebug` as _Build Variant_ in the _Build Variants_ view of Android Studio and run your app.
	
The result should look like this:
		
image::adroid_variant_exercise_result.png[]
	
=== Build via Gradle command line
		
Use the `./gradlew build` command to build all your product flavors.
	
